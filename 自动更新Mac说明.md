# 自动更新Mac说明

## 一、工具简介

本工具用于配置本地网络IP地址并更新控制柜的MAC地址。工具支持中文界面，操作简单，一键运行。

**系统要求**：Windows 10/11，需要管理员权限。

## 二、使用步骤

### 步骤1：启动工具
双击 **更新Mac地址.bat** 文件，如出现UAC提示，点击"是"允许运行。

### 步骤2：选择网络适配器
根据提示输入数字选择网络适配器（建议选择有线网络适配器）。

### 步骤3：输入控制柜IP地址
输入控制柜的IP地址，例如：`192.168.110.2`，按Enter确认。

### 步骤4：配置本地网络
工具会自动计算并配置本地IP地址（与控制柜IP在同一子网）。

### 步骤5：更新控制柜MAC地址
- 输入SSH密码：`root`（密码输入时不会显示，这是正常的安全特性）
- 如果密码错误，可重试，最多5次
- 成功后，会显示完整的 `hwaddress ether` 行，例如：`hwaddress ether 00:01:02:04:A8:17`

**注意**：如果控制柜连接不上，会显示红色错误提示并终止操作。请检查：
1. 控制柜已开机
2. 网线已连接
3. IP地址正确
4. 本地IP在同一子网

## 三、常见问题

### 1. 窗口显示乱码或叠字

**解决方法**：

1. **不要调整窗口大小**（窗口已锁定）

2. **修改电脑系统设置**（推荐方法）：
   - 按下Win + I打开设置，进入"时间和语言→语言和区域"，点击"管理语言设置"
   - 在弹出的"区域"窗口切换到"管理"选项卡，点击"更改系统区域设置"
   - 勾选"Beta版：使用Unicode UTF-8提供全球语言支持"
   - 重启电脑后，PowerShell及系统全局中文显示都会正常

### 2. 提示"需要管理员权限"
右键点击 **更新Mac地址.bat**，选择"以管理员身份运行"。

### 3. 控制柜连接不上
检查：控制柜已开机、网线已连接、IP地址正确、本地IP在同一子网。

### 4. 密码输入错误
确认密码为：`root`，可以重试，最多5次。

## 四、注意事项

1. **管理员权限**：工具需要管理员权限才能修改网络配置
2. **网络中断**：配置IP地址时，网络可能会短暂中断
3. **密码安全**：SSH密码输入时不会显示，这是正常的安全特性
4. **窗口大小**：不要尝试调整窗口大小，已锁定防止显示问题

---

**版本**: 1.0
**更新日期**: 2025年12月5日
**作者**: Spoil
